@import "tailwindcss";

:root {
  color-scheme: light;
}

html,
body {
  height: 100%;
}

body {
  background:
    radial-gradient(900px 600px at 10% 10%, rgba(59, 130, 246, 0.10), transparent 55%),
    radial-gradient(900px 600px at 90% 0%, rgba(124, 58, 237, 0.10), transparent 55%),
    radial-gradient(900px 600px at 80% 90%, rgba(16, 185, 129, 0.10), transparent 55%),
    linear-gradient(to bottom, rgb(248 250 252), rgb(241 245 249));
}

@layer base {
  body {
    @apply text-slate-900 antialiased;
  }

  h1,
  h2,
  h3 {
    @apply tracking-tight;
  }

  a {
    @apply text-slate-900;
  }
}

@layer components {
  .card {
    @apply rounded-2xl border border-slate-900/10 bg-white shadow-sm ring-1 ring-slate-900/5;
  }

  .card-soft {
    @apply rounded-2xl border border-slate-900/10 bg-white/70 shadow-sm ring-1 ring-slate-900/5 backdrop-blur-xl;
  }

  .card-header {
    @apply flex flex-wrap items-end justify-between gap-4;
  }

  .muted {
    @apply text-slate-500;
  }

  .btn {
    @apply inline-flex items-center justify-center rounded-2xl px-4 py-3 text-sm font-semibold shadow-sm transition;
    @apply cursor-pointer select-none;
  }

  .btn:focus-visible {
    @apply outline-none ring-4 ring-slate-900/10;
  }

  .btn:active {
    @apply translate-y-[1px];
  }

  .btn:disabled {
    @apply cursor-not-allowed;
  }

  .btn-primary {
    @apply bg-slate-900 text-white hover:bg-slate-800 disabled:opacity-50;
  }

  .btn-secondary {
    @apply bg-white text-slate-900 ring-1 ring-slate-900/10 hover:bg-slate-50 disabled:opacity-50;
  }

  .btn-ghost {
    @apply bg-slate-900/5 text-slate-700 hover:bg-slate-900/10 disabled:opacity-50;
  }

  .input {
    @apply w-full rounded-2xl border border-slate-900/10 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm outline-none placeholder:text-slate-400 focus:border-slate-900/20 focus:ring-4 focus:ring-slate-900/5 disabled:bg-slate-50 disabled:opacity-70;
  }

  .textarea {
    @apply min-h-16 w-full resize-y rounded-2xl border border-slate-900/10 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm outline-none placeholder:text-slate-400 focus:border-slate-900/20 focus:ring-4 focus:ring-slate-900/5 disabled:bg-slate-50 disabled:opacity-70;
  }

  .table-wrap {
    @apply overflow-hidden rounded-2xl border border-slate-900/10 bg-white/70 shadow-sm ring-1 ring-slate-900/5;
  }

  .table {
    @apply w-full border-collapse text-sm;
  }

  .thead {
    @apply bg-slate-50 text-slate-600;
  }

  .th {
    @apply px-4 py-3 text-left text-[11px] font-semibold uppercase tracking-wide;
  }

  .td {
    @apply px-4 py-3 align-top;
  }

  .tr {
    @apply border-t border-slate-900/10;
  }

  .tbody-hover tr:hover {
    @apply bg-slate-50/60;
  }

  .metric {
    @apply rounded-2xl border border-slate-900/10 bg-white px-5 py-4 shadow-sm ring-1 ring-slate-900/5;
  }

  .metric-label {
    @apply text-xs font-semibold uppercase tracking-wide text-slate-500;
  }

  .metric-value {
    @apply mt-2 text-2xl font-semibold tracking-tight text-slate-900;
  }

  .dot {
    @apply inline-block h-2.5 w-2.5 rounded-full;
  }

  .dot-green {
    @apply bg-emerald-500;
  }

  .dot-amber {
    @apply bg-amber-500;
  }

  .dot-red {
    @apply bg-rose-500;
  }

  /* Badge / pill styles used across pages */
  .pill {
    @apply inline-flex items-center gap-1.5 whitespace-nowrap rounded-full border px-2.5 py-1 text-[11px] font-semibold;
  }

  .pill-green {
    @apply border-emerald-200 bg-emerald-50 text-emerald-800;
  }

  .pill-amber {
    @apply border-amber-200 bg-amber-50 text-amber-800;
  }

  .pill-red {
    @apply border-rose-200 bg-rose-50 text-rose-800;
  }

  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  .markdown {
    @apply text-sm text-slate-800;
  }

  .markdown a {
    @apply text-slate-900 underline decoration-slate-400/60 underline-offset-2 hover:decoration-slate-900;
  }

  .markdown ul {
    @apply list-disc pl-5;
  }

  .markdown ol {
    @apply list-decimal pl-5;
  }

  .markdown li {
    @apply my-1;
  }

  .markdown code {
    @apply rounded bg-slate-900/5 px-1 py-0.5 font-mono text-[12px];
  }

  .markdown p {
    @apply my-1;
  }

  /* Overlay markdown editor: textarea provides caret/typing, view layer shows rendered markdown */
  .markdown-editor-input {
    color: transparent;
  }

  .markdown-editor-input:disabled {
    color: transparent;
  }

  .markdown-editor-input::selection {
    background: rgba(15, 23, 42, 0.15); /* slate-900/15 */
  }

  /* Keep the cursor visible while text is transparent */
  .markdown-editor-input {
    -webkit-text-fill-color: transparent;
    text-fill-color: transparent;
  }

  .markdown-editor-input:disabled {
    -webkit-text-fill-color: transparent;
    text-fill-color: transparent;
  }

  /* Ensure the rendered markdown doesn't capture clicks while editing */
  .markdown-editor-view {
    pointer-events: none;
  }

  .markdown-editor-input:not(:focus) + .markdown-editor-view {
    pointer-events: auto;
  }
}
